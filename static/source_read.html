<html>
    <head>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script type="text/javascript" src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

        <script type="text/javascript">
            $.getJSON('/reader/hi', function(result){
                var tweets = [];
                
                $.each(result, function(i, field){
                    
                    var finished = false;
                    
                    for	(index = 0; index < tweets.length; index++) {
                        
                        if ((parseInt(field.tweet_count) > parseInt(tweets[index].tweet_count)) &&(finished == false)) {
                            tweets.splice(index, 0, field);
                            finished = true;
                        }
                    }
                    
                    if (!finished) {
                        tweets.push(field);
                    }
                });
                
                tweet_list_element = document.getElementById("tweet_list");
                tweet_list_element.innerHTML = "";
                //console.log("tweet list length is: "+tweet_list.length);
                for (i=0; i<tweets.length; i++) {
                    //console.log("adding: "+tweet_list[i]);
                    tweet_list_element.innerHTML += "<li>"+tweets[i].text+": "+tweets[i].tweet_count+"</li>\n";
                }

            });
            
            
        

        </script>
    </head>
    <body>
        <ul id="tweet_list">
        </ul>
    </body>
</html>
